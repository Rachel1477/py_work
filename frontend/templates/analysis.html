<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>实习数据分析结果</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/popper.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
</head>
<body>
    <div class="container-fluid">
        <!-- 导航栏 -->
        <ul class="nav bg-info rounded">
            <li class="nav-item">
                <a class="nav-link active text-white" href="{{ url_for('index') }}">首页</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white" href="{{ url_for('analysis') }}">进入分析界面</a>
            </li>
            <li class="nav-item">
                <a class="nav-link disabled text-white" href="#">Your internship analysis website</a>
            </li>
        </ul>
        <br />
        <div class="row">
            <!-- 侧边栏导航 -->
            <div class="col-md-3">
                <div class="list-group">
                    <a href="#welfare" class="list-group-item list-group-item-action active">福利待遇</a>
                    <a href="#requirements" class="list-group-item list-group-item-action">职位要求</a>
                    <a href="#salary-comparison" class="list-group-item list-group-item-action">不同学历、地域薪资对比</a>
                    <a href="#" class="list-group-item list-group-item-action" data-toggle="modal" data-target="#llmChatModal">LLM对话分析</a>
                    <a href="#salary-factors" class="list-group-item list-group-item-action">薪资影响因素</a>
                    <a href="#llm-analysis" class="list-group-item list-group-item-action">LLM分析</a>
                </div>
            </div>
            
            <!-- 主内容区 -->
            <div class="col-md-9">
                <!-- <h3 class="text-center text-info">实习数据分析结果</h3> -->
                
                <!-- 福利待遇部分 -->
                <div id="welfare" class="card mb-4">
                    <div class="card-header">福利待遇分析</div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <img src="{{ url_for('static', filename='images/welfare1.png') }}" class="img-fluid mb-3" alt="福利待遇图表1">
                            </div>
                            
                        </div>
                        <p>分析说明文字...</p>
                    </div>
                </div>
                
                <!-- 职位要求部分 -->
                <div id="requirements" class="card mb-4">
                    <div class="card-header">职位要求分析</div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <img src="{{ url_for('static', filename='images/requirements1.png') }}" class="img-fluid mb-3" alt="职位要求图表1">
                            </div>
                            
                        </div>
                        <p>分析说明文字...</p>
                    </div>
                </div>
                
                <!-- 不同学历、地域薪资对比部分 -->
                <div id="salary-comparison" class="card mb-4">
                    <div class="card-header">不同学历、地域薪资对比</div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <img src="{{ url_for('static', filename='images/salary1.png') }}" class="img-fluid mb-3" alt="薪资对比图表1">
                            </div>
                            
                        </div>
                        <p>分析说明文字...</p>
                    </div>
                </div>
                
                <!-- 薪资影响因素部分 -->
                <div id="salary-factors" class="card mb-4">
                    <div class="card-header">薪资影响因素分析</div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <img src="{{ url_for('static', filename='images/factors1.png') }}" class="img-fluid mb-3" alt="影响因素图表1">
                            </div>
                            
                        </div>
                        <p>分析说明文字...</p>
                    </div>
                </div>
                
                <!-- LLM分析部分 -->
                <div id="llm-analysis" class="card mb-4">
                    <div class="card-header">LLM分析结果</div>
                    <div class="card-body">
                        <p>LLM分析结果文字内容...</p>
                        <p>
                            <a class="btn btn-primary btn-large" >进入LLM</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const navItems = document.querySelectorAll('.list-group-item');
            
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    // 移除所有按钮的active类
                    navItems.forEach(navItem => {
                        navItem.classList.remove('active');
                    });
                    // 为当前点击的按钮添加active类
                    this.classList.add('active');
                });
            });
        });
    </script>

<!-- LLM对话弹窗 -->
<div class="modal fade" id="llmChatModal" tabindex="-1" role="dialog" aria-labelledby="llmChatModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title" id="llmChatModalLabel">LLM对话分析</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="chat-container" style="height: 400px; overflow-y: auto; border: 1px solid #ddd; border-radius: 5px; padding: 10px;">
                    <div class="message bot-message mb-3 p-3 bg-light rounded">
                        您好！我是实习数据分析助手，请问有什么可以帮您了解的？
                    </div>
                </div>
                <div class="input-group mt-3">
                    <input type="text" class="form-control" placeholder="输入您的问题..." id="userInput">
                    <div class="input-group-append">
                        <button class="btn btn-info" type="button" id="sendMessage">发送</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
$(document).ready(function() {
    $('#sendMessage').click(function() {
        const userMessage = $('#userInput').val();
        if(userMessage.trim() !== '') {
            
            $('.chat-container').append(`<div class="message user-message mb-3 p-3 bg-primary text-white rounded">${userMessage}</div>`);
            $('#userInput').val('');
            
            setTimeout(() => {
                $('.chat-container').append(`<div class="message bot-message mb-3 p-3 bg-light rounded">已收到您的提问：${userMessage}</div>`);
                $('.chat-container').scrollTop($('.chat-container')[0].scrollHeight);
            }, 1000);
        }
    });
});
</script>
</body>
</html>